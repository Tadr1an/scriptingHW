if (Get-Module -name sqlps) { Remove-Module sqlps }
Import-Module -Name SqlServer

$dbStatus = Get-SqlDatabase -ServerInstance "SRV19-PRIMARY\SQLEXPRESS" -Name "ClientDB"

if ($dbStatus -gt "") {
    Write-Host "The database does exist"
} else {
    Write-Host "The database does not exist"
    #Delete database code goes here
    Write-Host "The database has been deleted"
}

$sqlServerInstanceName = "SRV19-PRIMARY\SQLEXPRESS"

$sqlServerObject = New-Object -TypeName Microsoft.SqlServer.Management.Smo.Server -ArgumentList $sqlServerInstanceName

$databaseName = 'ClientDB'

$database = New-Object -TypeName Microsoft.SqlServer.Management.Smo.Database -ArgumentList $sqlServerObject, $databaseName

$databaseObject.Create()
Write-Host "Database has been created"

Invoke-Sqlcmd â€“ServerInstance $sqlServerInstanceName -Database $databaseName -InputFile $PSScriptRoot\CreateTable_CustomerLeads.sql
